[L,M,S,XS],[],[]; [L,M,S],[XS],[]; [L,M],[XS],[S]; [L,M],[],[S,XS]; [L],[M], [S,XS]; [L,XS],[M],[S]; [L,XS],[M,S],[]; [L],[M,S],[XS]; [],[M,S],[L,XS]; [S],[M],[L,XS]; [XS,S],[M],[L]; [XS,S],[],[L,M]; [S],[XS],[L,M]; [],[XS,S],[L,M]; [],[S],[L,M,XS]; [],[],[L,M,XS,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L,XS],[M,S],[];[L],[M,S],[XS];[L],[M],[XS,S];[L,XS],[M],[S];[L],[M,XS],[S];[L],[M],[S,XS];[XS],[M],[S,L];[],[M,XS],[S,L];[],[M],[S,XS,L];[],[],[S,XS,M,L];[],[],[XS,S,M,L]
?[L,M,S,XL],[],[]; [L,M,XL],[S],[];[L,M,XL],[],[S]; [L,M],[S],[XL]; [L,M],[],[S,XL];[L],[M],[S,XL];[L],[M,S],[XL];[L,S],[M],[XL];[],[L,M,S],[XL];[],[L,M],[S,XL];[M],[L],[S,XL];[M,S],[L],[XL];[M],[L,S],[XL];[],[L,S],[M,XL];[S],[L],[M,XL];[],[L],[M,S,XL];[],[L,S],[M,XL];[],[],[L,M,S,XL]
?[XS,S,M,L],[],[]; [S,M,L],[XS],[]; [M,L],[XS],[S]; [XS,M,L],[],[S]; [L],[M,XS],[S]; [L],[S,M,XS],[]; [XS,L],[S,M],[]; [S,XS,L],[M],[]; [XS,L],[],[M,S]; [],[S,M,XS],[L]; [],[M,XS],[S,L]; [S],[],[M,XS,L]; [S],[],[M,XS,L]; [S,XS],[],[M,L]; [XS],[],[M,S,L]; [],[XS],[M,S,L]; [],[],[XS,M,S,L]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[],[S,XS,M];[],[L],[S,XS,M];[S],[L],[XS,M];[S,XS],[L],[M];[S,XS],[L,M],[];[S],[XS],[L,M];[S],[],[L,M,XS];[],[S],[L,M,XS];[],[],[L,M,XS,S]
?[XS,S,M,L],[],[];[S,M,L],[XS],[];[S,M,L],[],[XS];[M,L],[XS],[S];[M,L],[],[XS,S];[L],[M],[XS,S];[L],[M,XS],[S];[L],[M,XS,S],[];[],[M,XS,S],[L];[XS],[M,S],[L];[S],[XS,M],[L];[S],[],[XS,M,L];[],[S],[XS,M,L];[XS],[S],[M,L];[],[XS,S],[M,L];[],[S],[XS,M,L];[],[],[XS,S,M,L]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L,XS],[M,S],[];[L,XS], [M,S],[];[L],[M,S],[XS];[L,S],[M],[XS];[L,S],[M],[XS];[L,S,XS],[M],[];[L,S,XS],[],[M];[L,S],[XS],[M];[L],[S],[M,XS];[L],[],[M,XS,S];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S],[],[]; [L,M],[S],[]; [L],[M,S],[]; [],[M,S],[L]; [S],[],[L,M]; [],[S],[L,M]; [],[],[L,M,S]
?[S,M,L],[],[];[M,L],[XS],[S];[M,L],[],[XS,S];[L],[M],[XS,S];[XS,L],[M],[S];[XS,L],[S,M],[];[L],[XS,S,M],[];[],[XS,S,M],[L];[],[S,M],[XS,L];[S],[M],[XS,L];[XS,S],[M],[L];[XS,S],[],[M,L];
?[L,M,S,smallest],[],[];[L,M,S],[smallest],[];[L,M],[smallest],[S];[L,M],[],[S,smallest];[L],[M],[S,smallest];[L],[M,smallest],[S];[L],[M,smallest,S],[];[L],[M],[S,smallest];[],[M,smallest,S],[L];[smallest],[M,S],[L];[smallest,S],[M],[L];[S],[M],[L,smallest];[S],[],[L,smallest,M];[],[S],[L,smallest,M];[],[S,smallest],[L,M];[],[],[L,M,S,smallest]
?[L,M,S],[XS],[];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L],[M,S,XS],[];[],[M,S,XS],[L];[],[M,S],[L,XS];[S],[M],[L,XS];[S,XS],[M],[L];[],[],[L,M,S,XS]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,XL],[S],[M];[L,XL],[],[M,S];[XL],[L], [M,S];[XL],[L,S],[M];[XL],[L,S,M],[];[XL],[S],[M,L];[],[S],[M,L,XL];[M],[S],[L,XL];[M],[],[S,L,XL];[M,S],[],[L,XL];[S],[M],[L,XL];[],[M,S],[L,XL];[],[S],[M,L,XL];[],[],[M,S,L,XL]
?[L,M],[],[S];[L],[M],[S];[L],[M,S],[];[ ],[ ],[L,M,S];[S],[ ],[L,M];[],[ ],[L,M,S]
?[S,M,L,XS],[],[];[S,M,L],[XS],[];[M,L],[XS],[S];[M,L],[],[XS,S];[L],[M],[XS,S];[L],[S,M],[XS];[XS,L],[S,M],[];[XS,L],[M],[S];[L],[XS,S,M],[];[],[XS,S,M],[L];[],[S,M],[XS,L];[S],[M],[XS,L];[XS,S],[M],[L];[XS,S],[],[M,L];[S],[XS],[M,L];[],[XS],[S,M,L];[],[],[XS,S,M,L]
?[L,M,S],[],[];[M,L],[S],[];[L],[S],[M];[L],[],[M,S];[M],[L],[S];[M],[],[L,S];[],[],[L,M,S]
?Okay, here's the Tower of Hanoi solution for 4 disks, formatted as requested, with each step showing the disk configuration of Stack1, Stack2, and Stack3, separated by semicolons:

[L,M,S,VS],[],[]; [L,M,S],[VS],[]; [L,M],[VS],[S]; [L,M],[],[S,VS]; [L],[M],[S,VS]; [L],[M,VS],[S]; [L],[M,VS,S],[]; [L,VS],[M,S],[]; [L],[M,S],[VS]; [L],[],[VS,S]; [L],[],[S,VS,M]; [L],[VS],[S,M]; [L,VS],[],[S,M]; [L],[S],[VS,M]; [L],[],[VS,S,M]; [L],[],[S,VS,M]; [],[L],[S,VS,M]; [S],[L],[VS,M]; [],[L,S],[VS,M]; [],[L,S,VS],[M]; [S],[],[L,S,VS]; [VS],[],[L,S,VS,M]; [],[S],[L,VS,M]; [],[],[L,S,VS,M];
?[L,M,S,XL],[],[]; [M,S,XL],[S],[]; [S,XL],[],[M]; [XL],[],[M,S]; [XL], [L], [M,S]; [S], [L], [M,XL]; [], [L,M], [S,XL]; [], [M], [S,XL,L]; [S],[],[M,XL,L]; [],[S],[M,XL,L]; [M],[],[S,XL,L]; [M],[],[S,XL,L]; [S],[M],[XL,L]; [],[S,M],[XL,L]; [],[M],[S,XL,L]; [],[],[S,M,XL,L]
?[L,M],[ ],[S];[L],[M],[S];[L],[M,S],[ ];[ ],[M,S],[L];[S],[M],[L];[S],[ ],[L,M];[ ],[ ],[L,M,S]
?[XL,L,M,S],[],[];[XL,L,M],[S],[];[XL,L],[M],[S];[XL,L],[],[M,S];[XL],[L],[M,S];[XL],[L,S],[M];[XL],[L,S,M],[];[XL,S],[L,M],[];[XL],[L,M],[S];[XL],[L],[M,S];[XL,M],[L], [S];[XL,M,S],[L],[];[XL,M],[L,S],[];[XL],[L,S],[M];[XL],[L],[M,S]
?[M,S,XS],[],[L];[S,XS],[M],[L];[XS],[M,S],[L];[XS],[M],[L,S];[],[M],[L,S,XS];[],[L,M,S],[XS];[],[L,M,S,XS],[]
?[L,M,S,Fourth],[],[];[L,M,Fourth],[S],[];[L,Fourth],[],[M,S];[Fourth],[S],[M,S];[ ],[L,S],[M,S,Fourth];[S],[ ],[M,S,Fourth,L];[S],[L],[M,Fourth];[ ],[L,S],[M,Fourth];[ ],[],[M,Fourth,L,S];[M],[S],[Fourth,L];[M],[ ],[Fourth,L,S];[ ],[S,M],[Fourth,L];[ ],[ ],[Fourth,L,S,M];[],[S],[Fourth,L,M];[ ],[],[Fourth,L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M,XS,S],[XS];[],[M,XS,S],[L];[XS],[M,XS,S],[L];[XS],[M,XS],[L,S];[XS],[],[L,S,XS];[],[M],[L,S,XS];[],[M,XS],[L,S];[],[M,XS,S],[L];[],[XS],[L,S,M];[],[],[L,S,M,XS];
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M,XS],[S];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[M,S],[];[L],[M,S,XS],[];[],[M,S,XS],[L];[XS],[M,S],[L];[S,XS],[M],[L];[S],[M],[L,XS];[S],[M,XS],[L];[S],[],[L,M,XS];[S],[XS],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,M],[S],[XL];[L],[M],[S,XL];[XL],[L,M],[S];[S,XL],[L,M],[];[S,XL],[L],[M];[S],[L],[M,XL];[],[L],[S,M,XL];[],[L,M],[S,XL];[M],[],[S,L,XL];[M],[S],[L,XL];[M],[S,L],[],[M,S],[L],[XL];[M],[L],[S,XL];[M,S],[L],[],[],[L],[M,S,XL]
?[L,M,S,T],[],[];[L,M,S],[T],[];[L,M],[T],[S];[L,M],[],[S,T];[L],[M],[S,T];[L,T],[M],[S];[L,T],[M,S],[];[L],[M,S,T],[];[],[M,S,T],[L];[],[M,S],[L,T];[S],[M],[L,T];[S,T],[M],[L];[S,T],[],[L,M];[S],[T],[L,M];[],[T],[L,M,S];[],[],[L,M,S,T]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,M],[S],[XL];[L],[M,S],[XL];[],[L,M,S],[XL];[S],[L,M],[XL];[S],[L,M],[XL];[M,S],[L],[XL];[M],[L],[S,XL];[M],[L,S],[XL];[M],[L,S],[XL];[],[L,S],[M,XL];[S],[],[L,M,XL];[],[S],[L,M,XL];[],[],[L,M,S,XL]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[],[S,M];[L],[],[S,M,XS];[],[M,XS],[S,L];[],[XS],[S,L,M];[S],[XS],[L,M];[S],[],[L,M,XS];[S],[M],[L,XS];[],[M,XS],[L];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,O],[],[];[L,M,S],[O],[];[L,M],[S,O],[];[L,M],[],[S,O];[L],[M],[S,O];[L],[M,O],[S];[L],[M,O],[],[S];[L],[],[M,O,S];[],[L],[M,O,S];[O],[L],[M,S];[S,O],[L],[M];[S,O],[L,M],[];[],[L,M],[S,O];[S],[L,M],[O];[],[L,M,S],[O];[],[L,M,S,O],[];
?[L,M,S,T],[],[];[L,M,S],[T],[];[L,M],[S],[T];[L,M],[],[S,T];[L],[M], [S,T];[L],[M,T],[S];[L],[M,T,S],[];[L,T],[M,S],[];[L,T], [M,S],[];[L],[M,S],[T];[L],[M],[S,T];[L],[],[M,S,T];[],[L],[M,S,T];[S],[L],[M,T];[S,T],[L], [M];[],[L],[M,S,T];[],[T,L],[M,S];[],[T,L],[M,S];[],[L],[M,S,T]
?[XS,S,M,L],[],[];[S,M,L],[XS],[];[M,L],[XS],[S];[XS,M,L],[],[S];[M,L],[XS],[S];[XS,M,L],[],[S];[M,L],[],[XS,S];[L],[XS,S,M],[];[],[XS,S,M],[L];[S],[XS,M],[L];[XS,S],[M],[L];[S],[XS,M],[L];[S],[],[XS,M,L];[],[S],[XS,M,L];[],[XS,S],[M,L];[],[S],[XS,M,L];[],[],[XS,S,M,L];[],[S],[M,L];[XS],[S],[M,L]
?[L,M],[],[S];[L],[M],[S];[L],[M,S],[];[],[M,S],[L];[S],[M],[L];[S],[],[L,M];[],[],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[],[S,XS,M];[],[L], [S,XS,M];[],[L,XS],[S,M];[],[L,XS,S],[M];[],[XS,S],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[]; [L,M,S],[XS],[]; [L,M],[],[S,XS]; [L],[M],[S,XS]; [L,XS],[M],[S]; [L,XS],[M,S],[]; [L],[M,S,XS],[]; [],[M,S,XS],[L]; [],[M,S],[L,XS]; [S],[M],[L,XS]; [S,XS],[M],[L]; [S,XS],[],[L,M]; [S],[XS],[L,M]; [],[],[L,M,S,XS]
?[S,M,L],[],[XS];[M,L],[XS],[S];[M,L],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M,S],[XS];[],[M,S],[L,XS];[],[M,S,XS],[L];[],[M],[L,XS,S];[XS],[M],[L,S];[XS],[],[L,M,S];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XL],[],[]; [L,M,XL],[],[S]; [L,XL],[M],[S]; [L,XL],[M,S],[]; [XL],[L,M,S],[]; [XL],[L,M],[S]; [XL],[L],[M,S]; [XL],[],[L,M,S]; [],[XL],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M],[S,XS,S];[],[M,XS,S],[L];[XS],[M,S],[L];[XS],[M],[L,S];[],[M],[L,S,XS];[],[M,XS],[L,S];[S],[XS],[L,M];[S],[],[L,M,XS];[],[S],[L,M,XS];[],[],[L,M,S,XS]
?[L,M,S],[],[];[L,M],[S],[];[L],[S],[M];[L],[],[M,S];[],[L],[M,S];[S],[L],[M];[],[L,S],[M];[],[],[L,M,S]
?[M,S,L,XL],[],[]; [S,L,XL],[],[M]; [L,XL],[S],[M]; [S,L],[XL],[M]; [S,L],[],[M,XL]; [L],[S],[M,XL]; [L],[],[M,XL,S]; [],[L],[M,XL,S]; [M],[L,S],[XL]; [M],[S],[XL,L]; [S,M],[],[XL,L]; [M],[],[XL,L,S]; [],[M,S],[XL,L]; [],[S],[XL,L,M]; [],[],[XL,L,M,S]
?[L,M,S],[],[]; [L,M],[S],[]; [L],[S],[M]; [L],[],[M,S]; [],[L],[M,S]; [S],[L],[M]; [],[L,S],[M]; [],[L],[M,S]; [M],[L], [S]; [M,S],[L], []; [M], [L], [S]; [], [L,S], [M]; [S], [L], [M]; [], [L], [M,S]; [], [S], [M,L]; [], [], [M,L,S];
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M],[S,XS];[L],[],[M,S,XS];[],[L],[M,S,XS];[S],[M,XS],[L];[XS],[S],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S],[ ],[ ];[M,S],[ ],[L];[M],[S],[L];[S],[L],[M];[ ],[L],[M,S];[S],[ ],[L,M];[ ],[S],[L,M];[ ],[L,S],[M];[ ],[L],[M,S];[ ],[L,M],[S];[S],[L,M],[ ];[S,L],[M],[ ];[L],[M,S],[ ];[L],[S],[M];[ ],[S],[L,M]
?[L,M,S,O],[],[];[L,M,S],[S],[];[L,M],[S],[O];[L,M],[],[O];[L],[M,S],[O];[L],[M],[O,S];[L],[],[O,S];[M,S,O],[],[];[M,S],[S],[O];[M],[S,O],[];[M],[],[O,S];[],[M],[O,S];[],[M,S],[O];[],[],[O,S];[],[],[M,S,O];[S,O],[],[];[S],[O],[];[],[S],[O];[],[],[S,O]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L], [M,XS,S], [];[L],[],[S,XS,M];[L],[XS,S,M],[];[],[XS,S,M],[L];[XS],[S,M], [L];[XS],[S,M], [L];[XS,S],[M], [L];[S],[M],[L,XS];[S],[],[L,XS,M];[],[S],[L,XS,M];[],[XS],[L,XS,M,S]
?[S,M,L],[],[XS];[M,L],[S],[XS];[M,L],[XS,S],[];[L],[XS,S],[M];[XS,L],[S],[M];[XS,L],[],[S,M];[L],[],[XS,S,M];[],[L],[XS,S,M];[],[XS,L],[S,M];[S],[XS,L],[M];[XS,S],[L],[M];[XS,S],[M,L],[];[S],[M,L],[XS];[],[S,M,L],[XS];[],[XS,S,M,L],[]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,XL],[S],[M];[XL],[L,S],[M];[XL],[L],[M,S];[M,XL],[L],[S];[M,XL],[L,S],[];[M],[L,S],[XL];[S,M],[L],[XL];[M],[L],[S,XL];[],[L],[M,S,XL];[],[L,S],[M,XL];[S],[L],[M,XL];[S],[L,M],[XL];[],[L,M,S],[XL];[],[M,S],[L,XL];[S],[],[L,M,XL];[],[],[L,M,S,XL]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M],[S,XS,S];[],[M],[L,S,XS,S];[],[M,XS],[L,S,XS];[],[XS],[L,S];[],[],[L,S,XS];[],[],[L,S,XS,M];[],[XS],[L,S,M];[],[],[L,S,M,XS];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[],[S,M];[L],[XS],[S,M];[],[L],[S,XS,M];[S],[L,XS], [M]; [S],[L],[M,XS]; [S,M],[L],[XS]; [S,M],[L,XS],[];[S,M,XS],[L],[];[S,M,XS],[],[L];[M,XS],[],[S,L];[M],[XS],[S,L];[],[M],[S,L,XS];
?[M,S,XS],[],[L]; [S,XS],[M],[L]; [S],[M],[L,XS]; [XS],[M,S],[L]; [XS],[M,S,XS],[L]; [],[M,S,XS],[L,S]; [],[M,S],[L,S,XS]; [],[M],[L,S,XS,L]; [XS],[M],[S,XS,L]; [XS],[M,S],[S,XS,L]; [],[M,S,XS],[S,XS,L]; [],[S,XS],[M,S,XS,L]; [XS],[S],[M,S,XS,L]; [XS],[],[M,S,XS,L,S]; [],[],[M,S,XS,L,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[XS,S];[L],[M],[XS,S];[L],[M,XS],[S];[L],[XS],[M,S];[L],[],[XS,M,S];[],[L],[XS,M,S];[S],[L],[XS,M];[S,XS],[L],[M];[XS],[L],[S,M];[],[XS,L],[S,M];[],[L],[XS,S,M];[],[L,XS],[S,M];[],[XS],[L,S,M];[],[],[XS,L,S,M]
?[L,M,S,smallest one],[],[];[L,M,S],[smallest one],[];[L,M],[smallest one],[S];[L,M],[],[S,smallest one];[L],[M], [S,smallest one];[L],[M,S],[smallest one];[L],[M,S,smallest one],[];[L,smallest one],[M,S],[];[L], [M,S,smallest one],[];[],[M,S,smallest one],[L];[],[M,S],[L,smallest one];[S],[M],[L,smallest one];[S,smallest one],[M],[L];[smallest one],[M],[L,S];[smallest one],[],[L,M,S];[],[smallest one],[L,M,S];[],[],[L,M,S,smallest one]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,XL],[S],[M];[L,XL],[],[M,S];[XL],[L], [M,S]; [XL],[L,S],[M]; [XL],[L,S,M],[]; [XL],[S],[M,L]; [],[S,XL],[M,L]; [S],[XL],[M,L]; [S,M],[XL],[L]; [S,M],[XL],[L]; [M],[S],[L,XL]; [],[S],[L,XL,M]; [],[],[L,XL,M,S]
?[L,M,S,4],[],[]; [L,M,S],[4],[]; [L,M],[4],[S]; [L],[M,4],[S]; [L],[],[M,S,4]; [L],[S],[M,4]; [L],[S,M,4],[]; [],[S,M,4],[L]; [S],[M,4],[L]; [S],[4],[L,M]; [],[4],[L,M,S]; [4],[],[L,M,S]; [4],[S],[L,M]; [],[S,4],[L,M]; [M],[S,4],[L]; [M,L],[S,4],[]; [L],[S,4],[M]; [L,M],[S,4],[]; [L,M,S,4],[],[]
?[L,M,S],[],[]; [L,M],[S],[]; [L],[S],[M]; [L],[],[M,S]; [],[L],[M,S]; [S],[L],[M]; [S,M],[L],[]; [M],[L],[S]; [],[L,M,S],[]; [],[],[L,M,S]; [S],[M],[]; [S,M],[],[]; [],[S],[]; [],[],[S];
?[L,M,S,X],[],[];[L,M,X],[S],[];[L,X],[S],[M];[L,X],[],[M,S];[X],[L], [M,S];[S,X],[L],[M];[S,X],[L,M],[];[X],[L,M,S],[];[],[L,M,S],[X];[S], [L,M],[X];[S],[L],[M,X];[],[L],[M,S,X];[],[S,L],[M,X];[M], [S,L], [X];[M,S], [L], [X];[M,S],[],[L,X];[],[],[M,S,L,X]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[M,S],[];[L],[M,S,XS],[];[],[M,S,XS],[L];[],[M,S],[L,XS];[S],[M],[L,XS];[S,XS],[M],[L];[S,XS],[],[L,M];[S],[XS],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?"[L,M],[],[S]";"[L],[M],[S]";"[L],[M,S],[]";"[],[M,S],[L]";"[S],[M],[L]";"[S],[],[L,M]";"[],[],[L,M,S]"
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L,XS],[M,S],[];[L],[XS],[M,S];[L],[XS,S],[M];[L],[],[M,S,XS];[S],[XS],[L,M];[S],[XS,M],[L];[S,XS],[],[L,M];[S],[XS],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[],[S];[XS],[M,XS,S],[];[],[M,XS,S],[L];[],[M,XS],[L,XS];[],[M],[L,XS,S];[XS],[M],[L,XS,S];[],[M,XS],[L,XS,S];[],[XS],[L,XS,S,M];[],[],[L,XS,S,M,XS];[],[],[L,XS,S,M,S];[],[],[L,XS,S,M,XS,S];
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L],[M,XS],[S];[L],[M,XS],[S];[L],[M],[S,XS];[],[M,XS],[L,S];[],[M],[L,S,XS];[],[S],[L,XS,M];[],[],[L,XS,M,S];[],[XS],[L,M,S];[],[XS],[L,M,S];[],[S],[L,M,XS];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[S,XS],[M];[L],[S],[M,XS];[],[L],[S,XS,M];[XS],[L],[S,XS,M];[S,XS],[L], [M];[S],[L],[M,XS];[XS],[L,M],[S];[],[L,M],[S,XS];[],[M],[S,XS,L];[XS],[],[S,XS,L,M];[S],[XS], [L,M];[S],[XS], [L,M,XS];[],[],[S,XS,L,M]
?[L,M,S,XL],[],[]; [L,M,XL],[S],[]; [L,XL],[S],[M]; [L,XL],[],[M,S]; [XL],[L],[M,S]; [S,XL],[L],[M]; [S,XL],[L,M],[]; [XL],[L,M],[S]; [],[L,M,S],[XL]; [S],[M],[XL]; [S],[],[M,XL]; [M],[L],[S,XL]; [],[L],[M,S,XL]; [],[S,L],[M,XL]; [M],[L],[S,XL]; [M],[],[L,S,XL]; [],[M],[L,S,XL]; [S],[M],[L,XL]; [S],[],[M,L,XL]
?[M,L,S],[],[];[L,S],[M],[];[L],[M],[S];[L],[S],[M];[],[S],[M,L];[S],[],[M,L];[],[],[S,M,L];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];[],[S],[],[];
?[M,S,XS],[],[L]; [M,S],[XS], [L]; [M],[S,XS],[L]; [M],[],[L,S,XS]; [M],[XS],[L,S]; [M,XS],[],[L,S]; [M],[S],[L,XS]; [M], [S,XS],[L]; [M], [S],[L,XS]; [M,XS],[],[L,S]; [M],[XS],[L,S]; [M],[],[L,S,XS]; [],[M],[L,S,XS]; [XS],[M,S],[L]; [],[M,S,XS],[L]; [],[M,S],[L,XS]; [XS],[M],[L,S]; [],[M,XS],[L,S]; [],[M],[L,S,XS]
?[L,M,S],[],[]; [L,M],[S],[]; [L],[S],[M]; [L],[],[M,S]; [],[L],[M,S]; [S],[L],[M]; [S,M],[L],[]; [M],[L],[S]; [M],[],[S,L]; [],[M],[S,L]; [S],[M],[]; [],[M,S],[L]; [S],[],[L,M]; [],[S],[L,M]; [],[],[L,M,S]
?[S,M,L], [XS], []; [M,L], [XS], [S]; [M,L], [], [XS,S]; [L], [M], [XS,S]; [XS,L], [M], [S]; [XS,L], [S,M], []; [L], [XS,S,M], []; [], [XS,S,M], [L]; [], [S,M], [XS,L]; [S], [M], [XS,L]; [XS,S], [M], [L]; [XS,S], [], [M,L]; [S], [XS], [M,L]; [], [XS], [S,M,L]; [], [], [XS,S,M,L]
?[M,L,S],[],[];[L,S],[M],[];[L],[M],[S];[S],[M],[L];[S],[],[L,M];[],[S],[L,M];[],[],[L,M,S];[M,L,S],[],[];[L,S],[M],[];[L],[M],[S];[S],[M],[L];[S],[],[L,M];[],[S],[L,M];[],[],[L,M,S];[],[],[];[],[],[];[],[],[];
?[S,M,L],[XS],[];[M,L],[],[S];[M,L],[],[XS,S];[L],[M],[XS,S];[XS,L],[M],[S];[XS,L],[S,M],[];[L],[XS,S,M],[];[],[XS,S,M],[L];[],[S,M],[XS,L];[S],[M],[XS,L];[XS],[M],[S,L]
?[L,M,S],[],[]; [L,M],[ ],[S]; [L],[M],[S]; [L],[M,S],[ ]; [ ],[M,S],[L]; [S],[M],[L]; [S],[],[L,M]; [],[],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[],[XS];[L,M],[S],[XS];[L,M],[S,XS],[];[L],[S,XS],[M];[L,XS],[S],[M];[L,XS],[],[M,S];[L],[],[M,S,XS];[],[L],[M,S,XS];[],[L,XS],[M,S];[S],[L,XS],[M];[S,XS],[L],[M];[S,XS],[L,M],[];[S],[L,M],[XS];[],[L,M,S],[XS];[],[L,M,S,XS],[]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[M,S],[];[L],[M,S,XS],[];[],[M,S,XS],[L];[XS],[M,S],[L];[S,XS],[M],[L];[S],[M],[L,XS];[S],[M,XS], [L];[],[M,XS],[L,S];[XS],[M],[L,S];[],[M],[L,S,XS];[],[M,XS],[L,S];[],[],[L,M,S,XS]
?[L,M,S],[],[]; [L,M],[S],[]; [L],[M,S],[]; [],[M,S],[L]; [S],[],[L,M]; [],[S],[L,M]; [],[],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L,XS],[M,XS,S],[];[ ],[M,XS,S],[L];[XS],[M,XS,S],[L];[XS],[M,S],[L];[ ],[M,S],[L,XS];[ ],[S],[L,XS];[ ],[XS,S],[L];[ ],[XS,S],[L,M];[XS],[],[L,M];[XS],[S], [L,M];[],[XS,S],[L,M];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[XS,S],[M];[ ],[XS,S],[L,M];[],[S],[XS,L,M];[],[],[XS,S,L,M]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[M,S],[];[L],[M,S],[XS];[],[M,S],[L,XS];[S],[M],[L,XS];[S,XS],[M],[L];[XS],[M,S],[L];[],[M,S,XS],[L];[],[S,XS],[L,M];[XS],[S],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,M],[S],[XL];[L],[M,S],[XL];[],[L,M,S],[XL];[S],[L,M],[XL];[S,M],[L],[XL];[M],[L],[S,XL];[],[L,M],[S,XL];[S],[L,M], [XL];[S,M],[L],[XL];[M],[L,S],[XL];[],[L,S,M],[XL];[S],[L],[M,XL];[S],[L,M],[XL];[],[L],[S,M,XL];[],[],[L,S,M,XL]
?[L,M,S,XS],[],[]; [L,M,S],[XS],[]; [L,M],[XS],[S]; [L,M],[],[S,XS]; [L],[M],[S,XS]; [L,XS],[M],[S]; [L,XS],[M,S],[]; [L],[M,S,XS],[]; [],[M,S,XS],[L]; [],[M,S],[L,XS]; [S],[M],[L,XS]; [S,XS],[M],[L]; [S,XS],[],[L,XS,M]; [S],[XS],[L,XS,M]; [],[XS],[L,XS,M,S]; [],[],[L,XS,M,S,XS]
?[L,M,S,XS],[],[]; [L,M,S],[XS],[]; [L,M],[XS],[S]; [L,M],[],[S,XS]; [L],[M],[S,XS]; [L,XS],[M],[S]; [L,XS],[M,S],[]; [L],[M,S,XS],[]; [],[M,S,XS],[L]; [],[M,S],[L,XS]; [S],[M],[L,XS]; [S,XS],[M],[L]; [S,XS],[],[L,M]; [S],[XS],[L,M]; [],[XS],[L,M,S]; [],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,S],[M],[XS];[L,S],[M,XS],[];[L],[M,XS,S],[];[L,XS],[M,S],[];[XS],[M,S],[L];[XS],[M],[L,S];[],[M],[L,S,XS];[M],[],[L,S,XS];[M],[S],[L,XS];[M,XS],[S],[L];[M,XS,S],[],[L];[M,S],[],[L,XS];[S],[],[L,XS,M];[],[],[L,XS,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,S],[M],[XS];[L,S],[M,XS],[];[L],[M,XS,S],[];[L,XS],[M,S],[];[XS],[M,S],[L];[],[M,S],[L,XS];[M],[S],[L,XS];[M],[],[L,XS,S];[],[],[L,XS,S,M]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L,XS],[M,S],[];[],[M,S,XS], [L];[S],[M,XS], [L,XS];[S],[M], [L,XS,S];[XS],[M,S], [L];[],[M,S,XS], [L];[],[S],[L,M,XS];[],[S,XS],[L,M];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,XS],[ ],[S];[L,XS],[M],[S];[L,XS],[M,S],[ ];[XS],[M,S],[L];[XS],[ ],[L,M,S];[XS],[ ],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S];[ ],[XS],[L,M,S]
?[XS,S,M,L],[],[];[S,M,L],[XS],[];[S,M,L],[XS,S],[];[S,M],[XS,S],[M];[S],[XS,S],[M,L];[S],[XS],[M,L,S];[S],[],[M,L,S,XS];[XS,S,M,L],[],[];[XS,S,M],[L],[XS,S,M];[XS,S],[L],[XS,S,M];[S],[L,XS],[XS,S,M];[XS,S,M,L],[],[];[XS],[L,XS],[XS,S,M];[XS],[L,XS],[XS,S,M];[],[L,XS,S],[XS,S,M]
?[L,M,S],[],[];[L,M],[S],[];[L],[S],[M];[L],[],[M,S];[],[L],[M,S];[S],[L],[M];[S],[L,M],[];[],[L,M,S],[];[],[M,S],[L];[],[M],[L,S];[M],[],[L,S];[M,S],[],[L];[M,S],[L],[];[M],[L,S],[]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,XL],[S],[M];[XL],[],[M,S];[L],[XL],[M,S];[S,L],[XL],[M];[S,L,M],[XL],[];[L,M],[S,XL],[];[M],[S,XL],[L];[S,M],[XL],[L];[M],[XL],[L,S];[],[M,XL],[L,S];[S],[],[L,M,XL];[],[S],[L,M,XL];[],[],[L,M,S,XL]
?[XS,S,M,L],[],[];[S,M,L],[XS],[];[M,L],[XS],[S];[M,L],[],[XS,S];[L],[M,XS],[S];[L],[M],[XS,S];[XS,L],[M],[S];[XS,L],[M,S],[];[L],[],[M,XS,S];[],[L],[M,XS,S];[S],[],[L,M,XS,S];[S],[XS],[L,M,S];[],[S],[L,M,XS,S];[],[M,S],[L,S];[XS],[M,S],[L];[],[XS,M,S],[L];[],[M,S],[L,XS];[],[S],[L,M,XS];[],[],[L,M,XS,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS,S],[];[L],[M],[S,XS];[],[M,XS,S],[L];[XS],[M,XS,S],[L];[S,XS],[M,XS],[L];[S,XS],[M],[L,XS];[S],[M],[L,XS,S];[XS],[M],[L,XS,S];[],[M,XS],[L,XS,S];[],[M],[L,XS,S,XS];[],[],[L,M,S,XS];
?[M,S,L],[],[]; [S,L],[],[M]; [L],[S],[M]; [S],[L],[M]; [S],[M,L],[]; [],[M,L],[S]; [],[M,L,S],[]; [L],[],[M,S]; [],[],[M,S,L]; [],[S],[M,L]; [],[S,M],[L]; [S],[],[M,L]; [],[L,S],[]; [],[L],[S]; [],[],[L,S]; [],[],[L,S]; [],[],[L,S]; [],[],[L,S]; [],[],[L,S]
?[L,M,S],[ ],[ ];[L,M],[S],[ ];[L],[S],[M];[M],[ ],[L,S];[M],[L],[S];[ ],[L],[M,S];[ ],[M,L],[S];[XL],[ ],[M,L,S];[XL],[S],[M,L];[M,XL],[S],[L];[M,XL],[ ],[L,S];[XL],[M],[L,S];[XL],[M,S],[L];[ ],[M,S],[L,XL];[ ],[S],[M,L,XL];
?[L,M,S,XL],[],[]; [L,M,XL],[M],[S]; [L,M,XL],[S,M],[]; [L,XL],[S,M],[M]; [XL],[S,M],[L,M]; [XL],[M],[L,M,S]; [XL],[M,S],[L,M]; [XL,S],[M],[L,M]; [XL,S],[],[L,M,S,M]; [XL],[M],[L,M,S,M,S]; [L,M],[M,S],[XL,M,S]; [L,M,S],[],[XL,M,S]; [L],[M,S],[XL,M,S]; [L],[M],[XL,M,S,S]; [],[L,M,S],[XL,M,S]; [],[L,M],[XL,M,S,S]; [L],[XL,M,S],[M,S]; [M,S],[XL,M,S],[L]; [],[XL,M,S,M],[L,S]
?[L,M,S],[XS],[];[L,M],[],[S,XS];[L,XS],[M],[S];[L],[M,S,XS],[];[],[M,S],[L,XS];[S,XS],[M],[L];[S],[XS],[L,M];[],[],[L,XS,M,S,XS]
?[L,M,S],[],[]; [M,S],[],[L]; [S],[M],[L]; [S],[],[L,M]; [],[M,S],[L]; [],[S],[L,M]; [S],[],[L,M]; [],[],[L,M,S]
?[X,S,M,L],[],[];[S,M,L],[X],[];[M,L],[X],[S];[M,L],[],[X,S];[L],[M],[X,S];[X,L],[M],[S];[L],[M,X],[S];[L],[M,X,S],[];[],[M,X,S],[L];[X],[M,S],[L];[X],[S],[M,L];[],[S,X],[M,L];[],[X],[S,M,L];[X],[],[S,M,L];[],[X],[S,M,L];[],[],[X,S,M,L]
?[L,M,S,XL],[],[];[L,M,XL],[S],[];[L,XL],[S],[M];[XL],[],[M,S,L];[S,XL],[L], [M];[S],[L], [M,XL];[],[L,M], [S,XL];[XL],[],[L,M,S];[L], [XL], [M,S];[L,M], [XL], [S];[M], [S,XL], [L];[],[S,XL],[L,M];[],[XL],[L,M,S];[M],[XL],[L,S];[],[XL],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,XS],[S];[L],[M],[S,XS];[],[M,S,XS],[L];[],[S,XS],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,smallest one],[],[];[L,M,smallest one],[S],[];[L,M],[S],[smallest one];[L,M],[],[S,smallest one];[L,smallest one],[M,S],[];[L],[M,S],[smallest one];[L],[M],[S,smallest one];[smallest one],[M,S],[];[ ],[M,S],[L,smallest one];[smallest one],[S],[L];[smallest one,M],[ ],[L,S];[smallest one,M],[S],[L];[M],[S],[L,smallest one];[M,S],[],[L];[ ],[M,S],[L,smallest one];[smallest one],[M],[L,S];[ ],[M,S],[L,smallest one];[smallest one],[ ],[L,M,S];[ ],[],[L,M,S,smallest one]
?[M,S,XS],[],[L];[M,S],[XS],[L];[M],[S,XS],[L];[S,XS],[],[L,M];[S],[XS],[L,M];[S],[L,M,XS];[M,S],[XS],[L];[],[M,S,XS],[L];[],[M,S],[L,XS];[S],[M],[L,XS];[XS,S],[M],[L];[S],[M,XS],[L];[],[M,XS],[L,S];[],[M],[L,S,XS];[],[],[L,M,S,XS]
?[L,M],[],[S];[L],[M],[S];[L], [M,S], [];[],[M,S],[L];[S],[M],[L];[S],[],[L,M];[],[],[L,M,S]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[S],[XS];[L,M],[S,XS],[];[L],[S,XS],[M];[L],[S],[M,XS];[L],[S],[M];[L],[],[M,S,XS];[],[L],[M,S,XS];[],[L,XS],[M,S];[],[L],[M,S,XS];[S],[L],[M,XS];[S,XS],[L], [M];[S],[L,XS],[M];[],[L,M],[S,XS];[],[L,M],[S];[XS],[L,M], [S];[],[L,M,XS],[S];[],[L,M],[S,XS];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M], [S,XS];[L],[M,XS],[S];[L],[M,S],[XS];[L],[M,S,XS],[];[],[M,S,XS],[L];[S],[M,S,XS],[L,XS];[S,XS],[M,S],[L];[S,XS], [M],[L,XS];[S,XS],[],[L,M,XS];[XS],[S],[L,M];[],[XS],[L,M,S];[],[],[L,M,S,XS]
?[L,M,S,XS],[],[];[L,M,S],[XS],[];[L,M],[XS],[S];[L,M],[],[S,XS];[L],[M],[S,XS];[L,XS],[M],[S];[L,XS],[],[S,M];[L],[XS],[S,M];[],[XS],[S,M,L];[],[],[S,M,L,XS];[],[S],[M,L,XS];[XS],[S],[M,L];[XS],[],[M,L,S];[],[],[M,L,S,XS];[],[S],[L,XS];[XS],[S],[L];[XS],[],[L,S];[],[],[L,S,XS];[],[],[L,M,S,XS]
?